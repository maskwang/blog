---
title: 趣味算法：生男生女的比例
id: 528
categories:
  - 技术专栏
date: 2012-03-01 16:52:50
tags:
---

一道面试题：说澳大利亚的父母喜欢女孩，如果生出来的第一个女孩，就不再生了，如果是男孩就继续生，直到生到第一个女孩为止，问若干年后，男女的比例是多少？
我觉得1：1，下面的小程序来验证一下：
<pre lang="c">
#include <stdio.h>
#include <stdlib.h>
#define MAN    1  //男孩
#define WOMAN  0  //女孩
static int g_iManNum = 0;   //男孩个数
static int g_iWoManNum = 0; //女孩个数
float fResult;
int i = 0;

static void AddOneMan()
{
	g_iManNum++;	
}

static void AddOneWoMan()
{
	g_iWoManNum++;
}

static int GetOneChild()
{
	return (rand()%2);
}

static void PrintResult()
{
	printf("Man's number is %d, woman's number is %d.\n", g_iManNum, g_iWoManNum); 

	fResult = (float)g_iManNum / (float)g_iWoManNum;

	printf("Man / Woman is [%f]\n", fResult);
}

static void OneFamilyGetChild()
{
	int iChildType = GetOneChild();

	if (MAN == iChildType) {
		//如果是男孩，则递归调用，再生一个孩子，直到生出女孩为止
		AddOneMan();
		OneFamilyGetChild();
	} else if (WOMAN == iChildType) {
		AddOneWoMan();
	} else {
		printf("child type is error!\n");
		exit(0);
	}
}

static void StatisticsOfAllFamily(int iFamilyCount)
{
	printf("Now family count is %d.\n", iFamilyCount);

	for (i = 0; i < iFamilyCount; i++) {
		OneFamilyGetChild();
	}

	PrintResult();
}

int main(void)
{
	srand(time(NULL)); 
	StatisticsOfAllFamily(1000000);
	getchar();
	return 1;
}
</pre>